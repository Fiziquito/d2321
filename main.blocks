<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="vwtSD%)RrqSAIrmy`qUf">time</variable><variable id="gc%L84rtr%M@Jr6XC/E^">DS3231_ADDR</variable><variable id="PT.3hy$.fWvBlH4i{ExP">lista</variable></variables><block type="function_definition" id="g^e+TC=RC7WQwH7ypdeP" x="0" y="0"><mutation name="setDS3231Time" functionid="P:g]#LTYOg.=uwyeQA#]"></mutation><field name="function_name">setDS3231Time</field><comment pinned="false" h="80" w="160">Dirección I2C del módulo RTC DS3231
Función para configurar la hora en el DS3231</comment><statement name="STACK"><block type="variables_set" id="u6_k0Q4Xwv)-0p`~}wZ="><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="e!j-cT^a9j(fNS{f(0u4" inline="false"><mutation items="7" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="!dI51C.KjY{:jPsj[@:V"><field name="NUM">0</field></shadow></value><value name="ADD1"><shadow type="math_number" id="8Hs@?E3qX.bdLse/w*l0"><field name="NUM">0</field></shadow></value><value name="ADD2"><shadow type="math_number" id="`z6P#~0RA[e0VXNB3+Ns"><field name="NUM">0</field></shadow></value><value name="ADD3"><shadow type="math_number" id="Cw|nUQ5?:rS.FUDr,ydz"><field name="NUM">0</field></shadow></value><value name="ADD4"><shadow type="math_number" id=")#~/fATvm@TZXh,njJ[_"><field name="NUM">0</field></shadow></value><value name="ADD5"><shadow type="math_number" id="YutX8s47CioA$C+@?L5k"><field name="NUM">0</field></shadow></value><value name="ADD6"><shadow type="math_number" id="*fNnX[JG3^;q}@L{B]j1"><field name="NUM">0</field></shadow></value></block></value><next><block type="lists_index_set" id="O/wDbu{@B3Ed6YBp+$s!"><comment pinned="false" h="80" w="160">Segundos</comment><value name="LIST"><block type="variables_get" id="LSU8H}aJ[wRidC|U]jV:"><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field></block></value><value name="INDEX"><shadow type="math_number" id="WJ_sp7xzr^q+Q4AHMye}"><field name="NUM">0</field></shadow></value><value name="VALUE"><shadow type="math_number" id="P?c^jC+Cj0$qfsaOF_mt"><field name="NUM">0</field></shadow></value><next><block type="lists_index_set" id="cbX)l:/fs@^vcF#vW_|k"><comment pinned="false" h="80" w="160">Minutos</comment><value name="LIST"><block type="variables_get" id="~1%5BnT+6l(#y+uvmJo*"><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field></block></value><value name="INDEX"><shadow type="math_number" id="b^G.j_yP2VHIKf?XHKe0"><field name="NUM">1</field></shadow></value><value name="VALUE"><shadow type="math_number" id="9J6%-o.I!LR9Et#*Nbw%"><field name="NUM">30</field></shadow></value><next><block type="lists_index_set" id="?b1S@j~PM9}y=v,hYd(o"><comment pinned="false" h="80" w="160">Horas (formato 24 horas)</comment><value name="LIST"><block type="variables_get" id="KLvTZE.qFir!sx6Zn77$"><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field></block></value><value name="INDEX"><shadow type="math_number" id="0dB#XsceAAl!}M1^1gaB"><field name="NUM">2</field></shadow></value><value name="VALUE"><shadow type="math_number" id="A3afHEbIS1LjCLW=HsC["><field name="NUM">12</field></shadow></value><next><block type="lists_index_set" id="9]@9a7.o.H#|Uov8o/6]"><comment pinned="false" h="80" w="160">Día de la semana (1 = Lunes, 2 = Martes, etc.)</comment><value name="LIST"><block type="variables_get" id="e|.dl?zb4%Tk*YSV5*s#"><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field></block></value><value name="INDEX"><shadow type="math_number" id="bH8_T{66!X7#7=%|@q-q"><field name="NUM">3</field></shadow></value><value name="VALUE"><shadow type="math_number" id="E6PyL-#N)P8`m}F~}7#N"><field name="NUM">1</field></shadow></value><next><block type="lists_index_set" id="OQ}d73p^`5b0]ug|AWmo"><comment pinned="false" h="80" w="160">Día del mes</comment><value name="LIST"><block type="variables_get" id=",$!Vpp7:y;Jwg;u6;HR("><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field></block></value><value name="INDEX"><shadow type="math_number" id="KVbPD0UY84`gV`G5Y?Ms"><field name="NUM">4</field></shadow></value><value name="VALUE"><shadow type="math_number" id="ac#Ccl748yS^pWx[UQ22"><field name="NUM">6</field></shadow></value><next><block type="lists_index_set" id="%_ZdT!h83tPC}X3mc2Xo"><comment pinned="false" h="80" w="160">Mes</comment><value name="LIST"><block type="variables_get" id="(%CCI|xuj)teepz|e5NP"><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field></block></value><value name="INDEX"><shadow type="math_number" id="W}GUe;3t0v*65!b@]0(!"><field name="NUM">5</field></shadow></value><value name="VALUE"><shadow type="math_number" id="Kw1G75ApEtGSi~k8Y}t+"><field name="NUM">6</field></shadow></value><next><block type="lists_index_set" id="z^6FuIv$KPzjihM~?%bb"><comment pinned="false" h="80" w="160">Año (últimos dos dígitos)</comment><value name="LIST"><block type="variables_get" id="/yXw2T~8M1Uo,{P?tz2-"><field name="VAR" id="vwtSD%)RrqSAIrmy`qUf">time</field></block></value><value name="INDEX"><shadow type="math_number" id=",#LjJBuO0BmosL)k9TC6"><field name="NUM">6</field></shadow></value><value name="VALUE"><shadow type="math_number" id="~tDL}K]7fjtk_!.8$z5/"><field name="NUM">21</field></shadow></value><next><block type="typescript_statement" id="B-p}f_Un0GpuKoPHnHs5" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="pins.i2cWriteBuffer(DS3231_ADDR, pins.createBufferFromArray([0, bcd(time[0]), bcd(time[1]), bcd(time[2]), bcd(time[3]), bcd(time[4]), bcd(time[5]), bcd(time[6])]))" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="v7r-sQh1x~:H:6;jh.h=" x="1901" y="-50"><mutation name="bcd" functionid=":4SmYN4as|MMUj9Io[(f"><arg name="n" id="ir3s1k5tw4zsm813cz0b" type="number"></arg></mutation><field name="function_name">bcd</field><comment pinned="false" h="80" w="160">Función para convertir de decimal a BCD (Binary-Coded Decimal)</comment><statement name="STACK"><block type="function_return" id="yQ3R+cc#!Vk[CKqN~4MM"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="j:o{JJ,`?LB~VoQ7m@/n"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="8`.O0pf|ukk8UTuos._y" editable="false"><field name="EXPRESSION">(n / 10 &lt;&lt; 4)</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_modulo" id="at1Zz:qC-l`[Z/!rjGgz"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="ZsnW4lv[iLgw8ZvvUnL="><field name="VALUE">n</field></block></value><value name="DIVISOR"><shadow type="math_number" id="h$tt$T(e0OTk%$K*b6I2"><field name="NUM">10</field></shadow></value></block></value></block></value></block></statement></block><block type="pxt-on-start" id="@oq=g}D3R[S4bK+Zj+y]" x="315" y="104"><statement name="HANDLER"><block type="variables_set" id="hY5n;yP`^q;#HxUwVJhb"><field name="VAR" id="gc%L84rtr%M@Jr6XC/E^">DS3231_ADDR</field><comment pinned="false" h="80" w="160">Dirección I2C del módulo RTC DS3231</comment><value name="VALUE"><shadow type="math_number" id="UJ0VO=YlK0xKSFQtGvN7"><field name="NUM">104</field></shadow></value><next><block type="function_call" id="HIhi*2fwG]eI{8Uk=K_s"><mutation name="setDS3231Time" functionid="P:g]#LTYOg.=uwyeQA#]"></mutation><comment pinned="false" h="80" w="160">Configurar hora inicial</comment></block></next></block></statement></block></xml>